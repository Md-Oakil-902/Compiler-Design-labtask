#include <iostream>
#include <fstream>
#include <cctype>
#include <cstring>
using namespace std;

// Check if token is a keyword
bool isKeywordToken(const char str[]) {
    const char* keyList[] = {
        "int", "float", "if", "else", "while", "for", "return", "char", "double", "void"
    };
    for (int i = 0; i < 10; i++) {
        if (strcmp(str, keyList[i]) == 0)
            return true;
    }
    return false;
}

// Check if token is a numeric constant
bool isNumeric(const char str[]) {
    if (str[0] == '\0') return false;
    for (int i = 0; str[i] != '\0'; i++)
        if (!isdigit(str[i])) return false;
    return true;
}

// Check if token is an identifier
bool isIdentifierToken(const char str[]) {
    if (!isalpha(str[0]) && str[0] != '_') return false;
    for (int i = 1; str[i] != '\0'; i++)
        if (!isalnum(str[i]) && str[i] != '_') return false;
    return true;
}

// Check if token is an operator
bool isOperatorToken(const char* str) {
    const char* operators[] = {"+", "-", "*", "/", "=", "==", "<", ">", "<=", ">=", "!="};
    for (int i = 0; i < 11; i++)
        if (strcmp(str, operators[i]) == 0)
            return true;
    return false;
}

// Check if token is a symbol
bool isSymbolToken(const char* str) {
    const char symbols[] = ";,(){}[]";
    return (str[0] != '\0' && str[1] == '\0' && strchr(symbols, str[0]));
}

int main() {
    ifstream fin("input.txt");
    if (!fin) {
        cerr << "Unable to open input.txt\n";
        return 1;
    }

    cout << "Token\t\tType\n------------------\n";

    char buffer[512];
    while (fin.getline(buffer, 512)) {
        char token[128];
        int pos = 0;

        for (int i = 0; buffer[i] != '\0'; i++) {
            char ch = buffer[i];

            // Delimiters include whitespace, symbols, and operators
            if (isspace(ch) || strchr(";,(){}[]+-*/=<>!", ch)) {

                if (pos > 0) {
                    token[pos] = '\0';

                    if (isKeywordToken(token))
                        cout << token << "\t\tKeyword\n";
                    else if (isNumeric(token))
                        cout << token << "\t\tNumber\n";
                    else if (isIdentifierToken(token))
                        cout << token << "\t\tIdentifier\n";
                    else
                        cout << token << "\t\tConstant\n";

                    pos = 0;
                }

                // Handle symbols
                if (strchr(";,(){}[]", ch)) {
                    cout << ch << "\t\tSymbol\n";
                }
                // Handle operators (including two-character operators)
                else if (strchr("+-*/=<>!", ch)) {
                    char op[3] = {ch, '\0', '\0'};
                    if ((ch == '=' || ch == '<' || ch == '>' || ch == '!') && buffer[i + 1] == '=') {
                        op[1] = '=';
                        i++;
                    }
                    cout << op << "\t\tOperator\n";
                }
            } else {
                token[pos++] = ch;
            }
        }
    }

    fin.close();
    return 0;
}
